{"mappings":"YACA,IAAIA,EAAY,KAEVC,EAAO,CACXC,KAAMC,SAASC,cAAc,UA8B/B,SAASC,EAAcC,EAAUC,GAC/B,IAAMC,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAS,SAACC,EAASC,GAC5BC,YAAW,WACLN,EACFI,EAAQ,CAACN,WAAUC,UAEjBM,EAAO,CAACP,WAAUC,S,GAErBA,E,IArCPN,EAAKC,KAAKa,iBAAiB,UAK3B,SAAkBC,GAChBA,EAAMC,iBACN,IAAIC,EAAajB,EAAKC,KAAKiB,SAASZ,MAAMa,MAC1CpB,EAAYC,EAAKC,KAAKiB,SAASE,KAAKD,MACpC,IAAME,EAASrB,EAAKC,KAAKiB,SAASG,OAAOF,MAEzC,GAAIE,GAAU,EAAG,OAEjB,IAAK,IAAIC,EAAI,EAAGA,GAAKD,EAAQC,GAAK,EAEhClB,EAAckB,EAAGL,GACdM,MAAK,SAAAC,GAAMA,EAAHC,IAAQD,EAAHE,IACZC,QAAQC,IAAK,oB,IAEdC,OAAM,SAAAL,GAAMA,EAAHC,IAAQD,EAAHE,IACbC,QAAQC,IAAK,mB,IAEjBX,GAAclB,C","sources":["src/js/03-promises.js"],"sourcesContent":["\nlet delayStep = null;\n\nconst refs = {\n  form: document.querySelector('.form'),\n}\n\nrefs.form.addEventListener('submit', onSubmit)\n\n\n\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  let firstDelay = refs.form.elements.delay.value;\n  delayStep = refs.form.elements.step.value;\n  const amount = refs.form.elements.amount.value;\n   \n  if (amount <= 0) return;\n\n  for (let i = 1; i <= amount; i += 1) {\n    \n    createPromise(i, firstDelay)\n      .then(({ pos, del }) => {\n        console.log(`Fulfilled promise`);\n      })\n      .catch(({ pos, del }) => {\n        console.log(`Rejected promise`);\n      });\n    firstDelay += delayStep;\n  }\n}\n\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  return new Promise ((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({position, delay});\n      } else {\n          reject({position, delay});\n        }\n    }, delay);\n  });\n  \n}\n"],"names":["$ce04d3a99e08e73b$var$delayStep","$ce04d3a99e08e73b$var$refs","form","document","querySelector","$ce04d3a99e08e73b$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","addEventListener","event","preventDefault","firstDelay","elements","value","step","amount","i","then","param","pos","del","console","log","catch"],"version":3,"file":"03-promises.995d0b51.js.map"}